<html>
  <head>
    <link rel="stylesheet" href="index.css" />
    <script src="script.js?delay=666&c=1&clientdelay=250"></script>
  </head>
  <body>
    <main>
      <h1>Web vitals measurements</h1>
      <button id="button">Click me</button>
      <img id="firstimage" src="image.jpg?c=1" alt="Test Image" />
      <img src="image.jpg?c=2" alt="Test Image" />
      <img src="image.jpg?c=3" alt="Test Image" />
      <img src="image.jpg?c=4" alt="Test Image" />
      <img src="image.jpg?c=5" alt="Test Image" />
      <img src="image.jpg?c=6" alt="Test Image" />
      <img src="image.jpg?c=7" alt="Test Image" />
      <img src="image.jpg?c=8" alt="Test Image" />
      <img src="image.jpg?c=9" alt="Test Image" />
      <img id="lastimage" src="image.jpg?c=10" alt="Test Image" />
    </main>

    <script type="module">
          import {
            onCLS,
            onINP,
            onLCP,
            onTTFB,
            onFCP,
          } from 'https://unpkg.com/web-vitals@5/dist/web-vitals.attribution.js?module';

          onCLS(console.log, {
            reportAllChanges: true,
          });
          onINP(console.log, {
            reportAllChanges: true,
          });
          onLCP(console.log, {
            reportAllChanges: true,
          });
          onTTFB(console.log);
          onFCP(console.log, {
            reportAllChanges: true,
          });

          const button = document.querySelector('#button');

          button.addEventListener('mouseover', (event) => {
            console.log('Button hovered');
            console.log(fibonacci(40));
          });

          button.addEventListener('click', async (event) => {
            console.log('Button clicked');
            await new Promise((resolve) => setTimeout(resolve, 300));
            const image = document.querySelector('#firstimage');
            image.style.width = '150%'
            image.getBoundingClientRect();
            event.target.classList.add('bigger');
          });

          function fibonacci(n) {
            return n < 1 ? 0
              : n <= 2 ? 1
              : fibonacci(n - 1) + fibonacci(n - 2)
      }
    </script>
  </body>
</html>
